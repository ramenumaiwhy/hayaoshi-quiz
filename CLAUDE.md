# hayaoshi-quiz プロジェクト指針

## コンセプト

「みんはや」の本質だけを抽出したシンプルな早押しクイズWebアプリ。

## 開発方針

### t-wada流の進め方
- **動くコードを最優先**: まず動くものを作り、そこから改善する
- **小さなステップで進める**: 一度に大きな変更をしない。1つの変更 → 確認 → 次の変更
- **テスト駆動**: 機能追加時はテストを先に書く（またはすぐ後に書く）
- **リファクタリングを恐れない**: 動いているコードでも、より良くできるなら変える
- **技術的負債の意識的管理**: 負債を作るなら記録し、計画的に返済する

### YAGNI/KISS原則
- 今必要なものだけを実装する
- シンプルさを最優先
- 「将来使うかも」は実装しない
- 過剰な抽象化をしない

### 外部ライブラリ
- **外部依存ゼロを維持する**
- どうしても必要な場合は、まず context7 MCP でモダンベストプラクティスを調査してから判断

## UI/UX設計

### 入力方式
- **キーボード入力（IME）は使わせない** → モバイルフレンドリー
- 4択のタップ/クリックで回答
- 正解の文字を1文字ずつ選んでいく形式

### 回答の文字種
- 答えがカタカナ（ブラジル等）→ そのままカタカナで選択
- 答えがひらがな → そのままひらがなで選択
- 答えが漢字 → alternativeAnswersからひらがな/カタカナを取得して選択

### ゲームフロー
- 問題シャッフル（毎回ランダム順）
- 連続プレイ（「次の問題へ」で即座に次の問題開始、スタート画面を挟まない）
- 全問終了後にスコア表示画面
- 「もう一度挑戦」で再シャッフルして最初から

## 機能拡張の優先順位

1. **AI王データ取り込み** - コンテンツ拡充（既存スクリプト使用）
2. **デザイン調整** - `frontend-design` スキルを使用
3. **効果音追加** - Web Audio API（外部ライブラリ不要）

## 技術スタック

- React 19 + TypeScript
- Vite
- Bun

## データソース

- AI王データセット（CC BY-SA 4.0）
- 変換スクリプト: `scripts/convert-aio.ts`

## スキル/ツール使用

- デザイン調整: `frontend-design` スキル
- ライブラリ調査: context7 MCP
- デバッグ: `tmux-claude-debugging` スキル（必要時）

## 方向性

**みんはやパクリ → Claude Code学習アプリへ転換**

早押しクイズ形式で Claude Code の使い方をステップバイステップで学習できるアプリを目指す。
ランダム出題ではなく、順序立てて理解を深める設計。

## 構想段階（Future Ideas）

実装予定だが、まだ着手していない機能。YAGNI原則に従い、必要になったら実装する。

### 優先度: 最高

#### ハイスコア記録
- localStorage でブラウザに保存
- スコア画面で「ハイスコア: 8/10」表示

#### Claude Code 学習コンテンツ
- `claude-code-guide` スキルの内容をクイズ化
- ステップバイステップで学習（ランダムではなく順序付き）
- このアプリを使いながら Claude Code を学ぶ（ドッグフーディング）

### 優先度: 高

#### ソーシャル機能（要サーバー: Supabase等）
- **フレンドID**: ランダム生成（大文字小文字+数字）
- **フレンド登録**: ID入力でマッチング
- **フレンド対戦**: リアルタイム or 非同期
- **ハイスコア共有**: フレンドのスコアが自分の画面に表示

#### 問題数選択
- ユーザーが問題数を選べるUI（10問/20問/30問）
- 現在は `QUESTIONS_PER_GAME = 10` で固定

### 優先度: 中

#### フィルタリング機能
- **難易度別**: A（難）/ B（中）/ C（易）で絞り込み
- **ジャンル別**: 歴史、科学、エンタメ、スポーツ、言語、食

### 優先度: 低

#### データ拡充（AI王）
- AI王データセットは17,000問以上あるが、現在は100問のみ変換済み
- Claude Code学習がメインになるため、優先度を下げる

## 実装済み

- ✅ MVP（4択選択式UI、モバイル対応）
- ✅ 効果音（OscillatorNode合成音）
- ✅ ダークモード対応
- ✅ Vercelデプロイ
